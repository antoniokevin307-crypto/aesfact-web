<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin - AESFACT</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.1"></script>
</head>
<body class="admin">
  <div class="container">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h1>Panel de Administración (Supabase)</h1>
        <button id="logout-btn" class="btn muted">Salir</button>
    </div>

    <div id="login-panel" class="card login-panel">
      <h2>Acceso Seguro</h2>
      <input type="text" id="admin-email" placeholder="Usuario o Email">
      <input type="password" id="admin-pass" placeholder="Contraseña">
      <button id="login-btn" class="btn">Entrar</button>
    </div>

    <div id="admin-panel" class="hidden">
      <div class="admin-layout">
        <nav class="admin-nav">
          <a href="#sec-about">Nosotros</a>
          <a href="#sec-services">Servicios</a>
          <a href="#sec-projects">Proyectos</a>
          <a href="#sec-events">Eventos</a>
          <a href="#sec-news">Noticias</a>
          <a href="#sec-members">Integrantes</a>
          <a href="#sec-aesfact">AESFACT</a>
        </nav>

        <div class="admin-content">
          
          <section id="sec-about" class="admin-section card">
            <h3>Nosotros</h3>
            <label>Misión</label>
            <textarea id="edit-mision"></textarea>
            <label>Visión</label>
            <textarea id="edit-vision"></textarea>
            <label>Valores (uno por línea)</label>
            <textarea id="edit-valores" rows="5"></textarea>
            <label>Política</label>
            <textarea id="edit-politica"></textarea>
            <label>Objetivos (uno por línea)</label>
            <textarea id="edit-objetivos" rows="4"></textarea>
            <label>Objetivos Calidad (uno por línea)</label>
            <textarea id="edit-objetivos-calidad" rows="4"></textarea>
            <button id="save-about" class="btn">Guardar Información</button>
          </section>

          <section id="sec-services" class="admin-section card">
            <h3>Servicios</h3>
            <input id="service-title" placeholder="Título Servicio">
            <textarea id="service-desc" placeholder="Descripción"></textarea>
            <div class="admin-actions">
                <button id="add-service" class="btn">Agregar</button>
                <button id="cancel-service" class="btn muted hidden">Cancelar</button>
            </div>
            <div id="service-admin-list" class="grid"></div>
          </section>

          <section id="sec-projects" class="admin-section card">
            <h3>Proyectos</h3>
            <input id="proj-title" placeholder="Título">
            <textarea id="proj-desc" placeholder="Descripción"></textarea>
            <input id="proj-date" type="date">
            <select id="proj-status">
                <option value="En curso">En curso</option>
                <option value="Terminado">Terminado</option>
                <option value="Cancelado">Cancelado</option>
            </select>
            <div class="admin-actions">
                <button id="add-proj" class="btn">Agregar</button>
                <button id="cancel-proj" class="btn muted hidden">Cancelar</button>
            </div>
            <div id="proj-admin-list"></div>
          </section>

          <section id="sec-events" class="admin-section card">
            <h3>Eventos</h3>
            <input id="evt-title" placeholder="Título">
            <input id="evt-date" type="date">
            <textarea id="evt-desc" placeholder="Descripción"></textarea>
            <div class="admin-actions">
                <button id="add-evt" class="btn">Agregar</button>
                <button id="cancel-evt" class="btn muted hidden">Cancelar</button>
            </div>
            <div id="event-admin-list"></div>
          </section>

          <section id="sec-news" class="admin-section card">
            <h3>Noticias</h3>
            <input id="news-title" placeholder="Título">
            <textarea id="news-body" placeholder="Contenido"></textarea>
            <input id="news-date" type="date">
            <p class="muted">Imagen (Subir archivo o pegar URL)</p>
            <input id="news-image-url" placeholder="URL de imagen (opcional)">
            <input id="news-image-file" type="file" accept="image/*">
            <div class="admin-actions">
                <button id="add-news" class="btn">Agregar</button>
                <button id="cancel-news" class="btn muted hidden">Cancelar</button>
            </div>
            <div id="news-admin-list"></div>
          </section>

          <section id="sec-members" class="admin-section card">
            <h3>Integrantes</h3>
            <input id="mem-name" placeholder="Nombre">
            <input id="mem-role" placeholder="Cargo">
            <input id="mem-email" placeholder="Email">
            <input id="mem-phone" placeholder="Teléfono">
            <p class="muted">Foto</p>
            <input id="mem-photo-url" placeholder="URL Foto">
            <input id="mem-photo-file" type="file" accept="image/*">
            <div class="admin-actions">
                <button id="add-mem" class="btn">Agregar</button>
                <button id="cancel-mem" class="btn muted hidden">Cancelar</button>
            </div>
            <div id="member-admin-list"></div>
          </section>

          <section id="sec-aesfact" class="admin-section card">
            <h3>AESFACT Portada</h3>
            <input id="aesfact-year" placeholder="Año (ej: 2026)">
            <input id="aesfact-image-url" placeholder="URL Imagen principal">
            <input id="aesfact-image-file" type="file" accept="image/*">
            <button id="save-aesfact" class="btn">Guardar AESFACT</button>
          </section>

        </div>
      </div>
    </div>
  </div>
  <script src="js/app.js"></script>
</body>
</html>